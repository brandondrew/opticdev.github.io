<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-jsx-a1c333e351ee21b88be0.js" as="script"/><link rel="preload" href="/component---src-templates-lesson-jsx-2f3c64e1a2e18dac8355.js" as="script"/><link rel="preload" href="/path---writing-lenses-ba7d076594a4f7fd59fd.js" as="script"/><link rel="preload" href="/app-359cc766432004f4099f.js" as="script"/><link rel="preload" href="/commons-15a4f65ef87ed37368ed.js" as="script"/><style type="text/css" data-styled-components="hJOSyT jSmhPU bcCrHd bsoOjX fuwqKj iUvEoY bzEqZf ksQdnI hkLwcI gWZUse ksppJU cCwNth bwvJwI crpbEG dFgvPz" data-styled-components-is-local="true">/* sc-component-id: sc-bdVaJa */

.fuwqKj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;margin-top:10px;}
/* sc-component-id: sc-bwzfXH */

.iUvEoY{margin-left:25px;color:white;}.iUvEoY:hover{color:rgba(0,0,0,0.2);border-bottom:none;}
/* sc-component-id: sc-htpNat */

.bsoOjX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:calc(100% - 50px);background:#399cd3;position:fixed;}.bsoOjX .nav-wrapper{padding-left:4px;padding-right:4px;}.bsoOjX .nav-wrapper:last-child .nav-link{margin-right:0;}.bsoOjX a.nav-link:hover span{border-bottom:1px solid white !important;}.bsoOjX .nav-link{font-size:1.6rem;margin-right:10px;line-height:50px;font-weight:200;color:white;display:inline-block;}.bsoOjX .nav-link.active-nav-link span{border-bottom:1px solid white;}@media screen and (max-width:600px){.bsoOjX .nav-link{font-size:1.4rem;margin-right:7px;}}@media screen and (max-width:600px){.bsoOjX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;left:0;width:100%;padding:0 10px;z-index:2;}.bsoOjX .user-links{display:none;}}
/* sc-component-id: sc-bxivhb */

.bcCrHd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background:#399cd3;padding:25px;}
/* sc-component-id: sc-ifAKCX */

.hkLwcI{padding:25px;margin:0;}
/* sc-component-id: sc-EHOje */

.gWZUse{list-style:none;margin:0;}.gWZUse .head{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}
/* sc-component-id: sc-bZQynM */

.bwvJwI{list-style:none;}
/* sc-component-id: sc-gzVnrw */

.dFgvPz{display:inline-block;font-weight:200;color:#35495E;margin:0;line-height:1.5;border-bottom:1px solid transparent;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: sc-htoDjs */

.ksppJU{margin:0;}.ksppJU .chevron{height:15px;width:15px;color:#35495E;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;}.ksppJU .chevron-open{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}
/* sc-component-id: sc-dnqmqq */

.crpbEG{margin:0;}.crpbEG a:hover,.crpbEG .active-toc-link{border-bottom:1px solid #35495E;}
/* sc-component-id: sc-iwsKbI */

.cCwNth{font-weight:200;font-size:2.1rem;color:#399cd3;border-left:3px solid #bce0f5;padding-left:1em;}
/* sc-component-id: sc-gZMcBi */

.hJOSyT{height:100vh;display:grid;grid-template-rows:50px 1fr;grid-template-columns:1fr 320px;}@media screen and (max-width:768px){.hJOSyT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:inherit;}}
/* sc-component-id: sc-gqjmRU */

.bzEqZf{grid-column:1 / 2;grid-row:2 / 3;justify-self:center;max-width:calc(100vw - 320px - 15px);padding:25px;}.bzEqZf.hidden-toc{max-width:calc(100vw - 15px);margin-top:50px;}@media screen and (max-width:768px){.bzEqZf{-webkit-order:3;-ms-flex-order:3;order:3;}}.bzEqZf > div{max-width:1140px;margin:auto;}.bzEqZf > div > h1{color:#35495E;}@media screen and (max-width:768px){.bzEqZf > div > h1{margin-top:0;}}@media screen and (max-width:600px){.bzEqZf{max-width:100%;}}
/* sc-component-id: sc-VigVT */

.jSmhPU{grid-column:1 / 3;grid-row:1 / 2;z-index:2;position:fixed;width:100%;}@media screen and (max-width:768px){.jSmhPU{-webkit-order:1;-ms-flex-order:1;order:1;}}
/* sc-component-id: sc-jTzLTM */

.ksQdnI{grid-column:2 / 3;grid-row:2 / 3;background:none;overflow-y:auto;position:fixed;right:0;width:320px;height:calc(100vh - 50px);top:50px;}.ksQdnI.hidden-toc{display:none;}@media screen and (max-width:768px){.ksQdnI{-webkit-order:2;-ms-flex-order:2;order:2;top:0;margin-top:50px;position:relative;height:auto;width:100%;overflow:inherit;}}
</style><title data-react-helmet="true">Writing Lenses | Automate Routine Programming</title><meta data-react-helmet="true" name="description" content="Writing Lenses What is a lens?  - A lens can parse and mutate a specific kind of code. It can extract a JSON object representing the code…"/><meta data-react-helmet="true" name="image" content="https://useoptic.comnull"/><meta data-react-helmet="true" property="og:url" content="https://useoptic.com//writing-lenses"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Writing Lenses"/><meta data-react-helmet="true" property="og:description" content="Writing Lenses What is a lens?  - A lens can parse and mutate a specific kind of code. It can extract a JSON object representing the code…"/><meta data-react-helmet="true" property="og:image" content="https://useoptic.comnull"/><meta data-react-helmet="true" property="fb:app_id" content="1825356251115265"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="useoptic"/><meta data-react-helmet="true" name="twitter:title" content="Writing Lenses"/><meta data-react-helmet="true" name="twitter:description" content="Writing Lenses What is a lens?  - A lens can parse and mutate a specific kind of code. It can extract a JSON object representing the code…"/><meta data-react-helmet="true" name="twitter:image" content="https://useoptic.comnull"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://useoptic.com/","name":"Writing Lenses","alternateName":"Optic Automate Programming"},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://useoptic.com//writing-lenses","name":"Writing Lenses","image":"https://useoptic.comnull"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://useoptic.com/","name":"Writing Lenses","alternateName":"Optic Automate Programming","headline":"Writing Lenses","image":{"@type":"ImageObject","url":"https://useoptic.comnull"},"description":"Writing Lenses What is a lens?  - A lens can parse and mutate a specific kind of code. It can extract a JSON object representing the code…"}]]</script><link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,+400i,+700,+700i|Space+Mono:400,700" rel="stylesheet"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#c62828"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><style id="gatsby-inlined-css">*{box-sizing:border-box;margin:0;padding:0}table{border-collapse:collapse}table,td,th{border:1px solid #000;padding:5px}html{font-size:10px}a,body,h1,h2,h3,h4,h5,h6,li,p,ul{font-family:Roboto,Helvetica Neue,sans-serif}dl,h1,h2,h3,h4,h5,h6,ol,p,ul{margin:30px 0;font-weight:300}dd,dt,li,li>*{margin:10px 0}code,pre{font-family:Space Mono,monospace}h1{font-size:4rem}h2{font-size:3.5rem}h3{font-size:3rem}h4{font-size:2.4rem}h5{font-size:2rem}h6{font-size:1.6rem}a,dd,dt,li,p,th,tr{font-size:1.8rem;line-height:1.4em}a{color:#2973b7;text-decoration:none}a:hover{cursor:pointer}ol,ul{margin-left:20px}iframe,img{max-width:100%}.gatsby-highlight code[class*=language-],.gatsby-highlight pre[class*=language-]{box-shadow:none}.home-page-img{height:70px}.home-page-gif,.home-page-img{width:100%;background-size:contain;background-repeat:no-repeat;background-position:50%;margin-top:20px;margin-bottom:30px}.home-page-gif{height:300px}.ide-image{padding-left:20px}.language-text{border-radius:0!important;box-shadow:none}.gatsby-highlight{padding-bottom:30px}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Space Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.87;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;box-shadow:.05555555555555555rem .05555555555555555rem 1.1111111111111112rem hsla(0,0%,8%,.37)}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:0}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1d1f27}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#b5bec3}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#efc090}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#dc78dc}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#bed6ff}.token.keyword{color:#00d0d0}.token.important,.token.regex{color:#ccdf32}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.social-links{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:15px 0}.social-links>div{margin:5px 15px}.share-count{text-align:center}code[class*=language-],pre[class*=language-]{font-family:Consolas,Menlo,Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;background:#1d1f21;color:#c5c8c6}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b4b7b4}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b4b7b4}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#969896}.token.punctuation{color:#c5c8c6}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#de935f}.token.property{color:#f0c674}.token.tag{color:#81a2be}.token.string{color:#8abeb7}.token.selector{color:#b294bb}.token.attr-name{color:#de935f}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#8abeb7}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#b5bd68}.token.atrule,.token.regex,.token.statement{color:#8abeb7}.token.placeholder,.token.variable{color:#81a2be}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #fff;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#c66}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #c66;outline-offset:.4em}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="553536278"><!-- react-empty: 2 --><div data-reactid="3"><!-- react-empty: 4 --><!-- react-empty: 5 --><div class="sc-gZMcBi hJOSyT" data-reactid="6"><div class="sc-VigVT jSmhPU" data-reactid="7"><div class="sc-bxivhb bcCrHd" data-reactid="8"><div class="sc-htpNat bsoOjX" data-reactid="9"><section data-reactid="10"><span class="nav-wrapper" data-reactid="11"><a class="nav-link" href="/" data-reactid="12"><span data-reactid="13">HOME</span></a></span><span class="nav-wrapper" data-reactid="14"><a class="nav-link" href="/what-is-optic" data-reactid="15"><span data-reactid="16">DOCS</span></a></span><span class="nav-wrapper" data-reactid="17"><a class="nav-link" href="/teams" data-reactid="18"><span data-reactid="19">TEAMS</span></a></span><span class="nav-wrapper" data-reactid="20"><a class="nav-link" href="/blog" data-reactid="21"><span data-reactid="22">BLOG</span></a></span><span class="nav-wrapper" data-reactid="23"><a class="nav-link" href="/download" data-reactid="24"><span data-reactid="25">GET OPTIC</span></a></span></section><span class="user-links" data-reactid="26"><div class="user-links sc-bdVaJa fuwqKj" data-reactid="27"><a class="sc-bwzfXH iUvEoY" href="https://github.com/opticdev" data-reactid="28"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;width:20px;height:20px;" data-reactid="29"><g data-reactid="30"><path d="m15.8 27.1q0 0.9-0.3 1.9t-1 1.7-1.6 0.7-1.6-0.7-1-1.7-0.2-1.9 0.3-1.8 0.9-1.7 1.6-0.7 1.6 0.7 1 1.7 0.3 1.8z m14.3 0q0 0.9-0.3 1.9t-1 1.7-1.6 0.7-1.6-0.7-1-1.7-0.2-1.9 0.2-1.8 1-1.7 1.6-0.7 1.6 0.7 1 1.7 0.3 1.8z m3.5 0q0-2.6-1.5-4.5t-4.2-1.9q-0.9 0-4.3 0.5-1.6 0.2-3.5 0.2t-3.5-0.2q-3.4-0.5-4.4-0.5-2.6 0-4.2 1.9t-1.5 4.5q0 2 0.7 3.5t1.8 2.3 2.7 1.3 3.2 0.7 3.3 0.1h3.7q1.9 0 3.4-0.1t3.1-0.7 2.7-1.3 1.8-2.3 0.7-3.5z m5-3.9q0 4.6-1.3 7.4-0.9 1.7-2.4 3t-3.1 1.9-3.8 1.1-3.8 0.4-3.8 0.1q-1.7 0-3.1 0t-3.3-0.3-3.4-0.7-3.1-1.1-2.7-1.8-1.9-2.6q-1.4-2.7-1.4-7.4 0-5.3 3-8.8-0.6-1.9-0.6-3.8 0-2.6 1.2-4.9 2.4 0 4.2 0.9t4.2 2.8q3.3-0.8 6.9-0.8 3.3 0 6.3 0.7 2.3-1.8 4.2-2.7t4.2-0.9q1.1 2.3 1.1 4.9 0 1.9-0.6 3.7 3 3.6 3 8.9z" data-reactid="31"></path></g></svg></a><a class="sc-bwzfXH iUvEoY" href="https://twitter.com/useoptic?lang=en" data-reactid="32"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;width:20px;height:20px;" data-reactid="33"><g data-reactid="34"><path d="m37.7 9.1q-1.5 2.2-3.7 3.7 0.1 0.3 0.1 1 0 2.9-0.9 5.8t-2.6 5.5-4.1 4.7-5.7 3.3-7.2 1.2q-6.1 0-11.1-3.3 0.8 0.1 1.7 0.1 5 0 9-3-2.4-0.1-4.2-1.5t-2.6-3.5q0.8 0.1 1.4 0.1 1 0 1.9-0.3-2.5-0.5-4.1-2.5t-1.7-4.6v0q1.5 0.8 3.3 0.9-1.5-1-2.4-2.6t-0.8-3.4q0-2 0.9-3.7 2.7 3.4 6.6 5.4t8.3 2.2q-0.2-0.9-0.2-1.7 0-3 2.1-5.1t5.1-2.1q3.2 0 5.3 2.3 2.4-0.5 4.6-1.7-0.8 2.5-3.2 3.9 2.1-0.2 4.2-1.1z" data-reactid="35"></path></g></svg></a><a class="sc-bwzfXH iUvEoY" href="mailto:aidan@useoptic.com" data-reactid="36"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;width:20px;height:20px;" data-reactid="37"><g data-reactid="38"><path d="m33.4 13.4v-3.4l-13.4 8.4-13.4-8.4v3.4l13.4 8.2z m0-6.8q1.3 0 2.3 1.1t0.9 2.3v20q0 1.3-0.9 2.3t-2.3 1.1h-26.8q-1.3 0-2.3-1.1t-0.9-2.3v-20q0-1.3 0.9-2.3t2.3-1.1h26.8z" data-reactid="39"></path></g></svg></a></div></span></div></div></div><div class="sc-gqjmRU bzEqZf" data-reactid="40"><div data-reactid="41"><h1 id="writing-lenses"><a href="#writing-lenses" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing Lenses</h1>
<p><strong>What is a lens?</strong> - A lens can parse and mutate a specific kind of code. It can extract a JSON object representing the code. If you change that JSON object and pass it back into the mutator a lens will update the raw code to match the new model. Lenses serve as Optic's primary interface for interacting with discrete types of code.</p>
<p>Defining a Lens in Optic Markdown is a lot like showing your friend a snippet of code and pointing out all the parts they can edit. You do not need to write any code or have prior knowledge of AST trees to write a Lens. It will take your description from markdown and compile it into the code it needs to walk the AST Tree and extract values. Lenses serve as loose matchers for code and will match any code that is structurally similar regardless of formatting.</p>
<h2 id="match-and-extract"><a href="#match-and-extract" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Match and Extract</h2>
<p>Optic matches code and extracts values from that code similar to how a regex works. When a Lens is compiled, it is turned into a AST pattern that is analogous to a regex pattern. This description is compared to new instances from left -> right and will stop traversing the AST Tree as soon as a node is found that does not match the rules in the description.</p>
<blockquote>
<p>As a node is matching, values specified in the Lens are extracted and added to a result object.</p>
</blockquote>
<blockquote>
<p>If a node in your code meets the description and the extracted values constitute a valid Schema of the type defined by the Lens, then a match is found.</p>
</blockquote>
<h2 id="training-optic"><a href="#training-optic" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Training Optic</h2>
<p>Defining one of Optic's internal AST Patterns is very challenging, even Optic's engineers do not do that by hand. Instead we use Optic's trainer to teach Optic how to interact with our code.</p>
<p>You can start the trainer by running:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">opticmd starttrainer</code></pre>
      </div>
<p>The first step is to provide Optic with an example snippet. When reading your code, Optic will look for sections of similar forum to this snippet. The snippet is also used as the base that all instances of this lens generate from.
<img src="/doc-images/example-snippet.png" alt="alt text"></p>
<p>Next you need to tell Optic how you'd expect it to the expected value for parsing this snippet. In this example we're training a require call in javascript. We expect Optic to parse this code as an object with a property called <code class="language-text">as</code> and <code class="language-text">path</code></p>
<p><strong>Note:</strong> A know limitation of the trainer is that it can't handle mapped schemas yet. This is coming very soon
<img src="/doc-images/expected-value.png" alt="alt text"></p>
<p>When you press <code class="language-text">Train Lens</code> Optic analyses your snippet and the expected value and figures out how to build a lens that guarantees the two line up. You can see which parts of your snippet Optic is extracting values from in the 'Value Candidates section of the' verify card. Sometimes if there is ambiguity in the training process Optic will present you with choices for one or more fields.</p>
<p><img src="/doc-images/verify-results.png" alt="alt text"></p>
<h3 id="setting-variables"><a href="#setting-variables" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Variables</h3>
<p>Variables are a key part of Optic’s loose matching. When you define a variable in your Lens, it tells Optic that a token can have any value, as long as it is consistent throughout the code block.</p>
<p>For instance without a variable defined, all 3 instances of “result” must equal “result” for Optic to match this section of code.</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code class="language-javascript">function test(result) {
	message.post(result)
	system.process(result)
}</code></pre>
      </div>
<p>If you define a variable for ‘result’ the following code will also be matched,</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code class="language-javascript">function test(otherToken) {
	message.post(otherToken)
	system.process(otherToken)
}</code></pre>
      </div>
<p>But this code would not be matched</p>
<div class="gatsby-highlight">
      <pre class="language-javascript"><code class="language-javascript">function test(otherToken) {
	message.post(otherToken)
	system.process(result)
}</code></pre>
      </div>
<p>There are two types of variables. Those defined in <code class="language-text">self</code> and those in <code class="language-text">scope</code>.</p>
<ul>
<li><strong>self</strong> - enforces consistency of tokens in this node and its children</li>
<li><strong>scope</strong> - If the node's parent also defines a variable with the same name then the value of this variable must match the one in its parent. If it's parent does not define a variable with the same name this behaves the same as self.</li>
</ul>
<p>Variables can be set by typing the name of the variables in the input:
<img src="/doc-images/variables.png" alt="alt text"></p>
<h3 id="containers"><a href="#containers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Containers</h3>
<p>Containers can be used to label callbacks or other blocks of code and set rules about what kind of code can go inside of them. A container is defined in the example snippet by adding an inline comment with the following format <code class="language-text">//:{container name}</code>. If you add one or more containers you will be given options to configure them in the trainer.</p>
<p><img src="/doc-images/containers.png" alt="alt text"></p>
<p>For each container in your snippet a children rule must be defined:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>matches when</th>
</tr>
</thead>
<tbody>
<tr>
<td>Any</td>
<td>always</td>
</tr>
<tr>
<td>Same Plus</td>
<td>children from example snippet are present, in the order they appear in the example, plus any other children.  
<br>
 example snippet = 
[
A, B, C
]
 
<br>
 
[
B, C
]
 false 
<br>
 
[
A, D, B, C
]
 true 
<br>
 
[
A, B, C
]
 true 
<br>
 
[
A, B, C, D
]
 true</td>
</tr>
<tr>
<td>Same Plus Any Order</td>
<td>children from the example snippet are present, in any order, plus any other children 
<br>
 example snippet = 
[
A, B, C
]
 
<br>
 
[
C, B, D, E, A
]
 true 
<br>
 
[
A, B, C
]
 true 
<br>
 
[
C, B, D, E
]
 false</td>
</tr>
<tr>
<td>Same Any Order</td>
<td>all children from the example snippet are present, in any order,
<br>
 example snippet = 
[
A, B, C
]
 
<br>
 
[
B, C, A
]
 true 
<br>
 
[
C, A, B
]
 true 
<br>
 
[
C
]
 false 
<br>
 
[
C, B, A, D
]
 false</td>
</tr>
<tr>
<td>exact</td>
<td>children match those in the example snippet</td>
</tr>
</tbody>
</table>
<h3 id="customize-schema"><a href="#customize-schema" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customize Schema</h3>
<p>During training Optic assigns a very basic schema to your lens. If you want to customize this schema you can update the schema by clicking 'Customize Schema'.</p>
<p><img src="/doc-images/schema.png" alt="alt text"></p>
<p>If you want Optic to implement another schema you can reference it using its identifier ie <code class="language-text">optic:package@0.1.0/schema</code>. Make sure the output of your lens conforms to whatever schema you choose or Optic will instances it finds in your code at runtime.</p>
<h2 id="testing-the-lens"><a href="#testing-the-lens" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing the Lens</h2>
<p>When you're ready to try out the lens click <code class="language-text">Proceed to Testing</code>. Here you can experiment with the lens you've configured and make sure it work as you would expect within Optic.</p>
<h2 id="saving"><a href="#saving" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Saving</h2>
<p>When you are finished testing your lens give it a name and an id and hit 'Finish'. An Optic Markdown annotation representing this lens will be added to your markdown file automatically.</p>
<div class="gatsby-highlight">
      <pre class="language-markdown"><code class="language-markdown"><span class="token comment">&lt;!-- Lens {"name":"HTTP Request","id":"http-request","value":{"method":{"type":"token","at":{"astType":"Identifier","range":{"start":8,"end":11}}},"options":{"type":"object-literal","at":{"astType":"ObjectExpression","range":{"start":12,"end":14}}}},"variables":{"err":"self","response":"self","body":"self"},"containers":{"handler":"any","success":"any","error":"any"},"schema":"request","initialValue":{}} --></span>
```javascript
request.get({}, function (err, response, body) {
  //:handler
  if (response.statusCode >= 200 &amp;&amp; statusCode.status &lt; 300) {
<span class="token code keyword">    //:success</span>
  } else {
<span class="token code keyword">    //:error</span>
  }

})
```</code></pre>
      </div></div></div><div class="sc-jTzLTM ksQdnI" data-reactid="42"><div class="sc-ifAKCX hkLwcI" data-reactid="43"><div class="toc-main" data-reactid="44"><ol class="sc-EHOje gWZUse" data-reactid="45"><li class="head sc-htoDjs ksppJU" id="head-What is Optic?" data-reactid="46"><h5 class="sc-iwsKbI cCwNth" data-reactid="47">What is Optic?</h5><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="chevron chevron-open" id="chevron-What is Optic?" style="vertical-align:middle;" data-reactid="48"><g data-reactid="49"><path d="m37.6 18l-16.6 16.6q-0.4 0.4-1 0.4t-1-0.4l-16.6-16.6q-0.4-0.4-0.4-1t0.4-1l3.7-3.7q0.5-0.4 1-0.4t1 0.4l11.9 11.9 11.9-11.9q0.4-0.4 1-0.4t1 0.4l3.7 3.7q0.4 0.4 0.4 1t-0.4 1z" data-reactid="50"></path></g></svg></li><li class="sc-htoDjs ksppJU" id="list-What is Optic?" data-reactid="51"><ol class="sc-bZQynM bwvJwI" data-reactid="52"><li class="sc-dnqmqq crpbEG" data-reactid="53"><a href="/what-is-optic" data-reactid="54"><h6 class="sc-gzVnrw dFgvPz" data-reactid="55">What Is Optic</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="56"><a href="/another-code-generator" data-reactid="57"><h6 class="sc-gzVnrw dFgvPz" data-reactid="58">Another Code Generator?</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="59"><a href="/technical-overview" data-reactid="60"><h6 class="sc-gzVnrw dFgvPz" data-reactid="61">Technical Overview</h6></a></li></ol></li><li class="sc-htoDjs ksppJU" id="What is Optic?" data-reactid="62"></li></ol><ol class="sc-EHOje gWZUse" data-reactid="63"><li class="head sc-htoDjs ksppJU" id="head-Using Optic" data-reactid="64"><h5 class="sc-iwsKbI cCwNth" data-reactid="65">Using Optic</h5><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="chevron chevron-open" id="chevron-Using Optic" style="vertical-align:middle;" data-reactid="66"><g data-reactid="67"><path d="m37.6 18l-16.6 16.6q-0.4 0.4-1 0.4t-1-0.4l-16.6-16.6q-0.4-0.4-0.4-1t0.4-1l3.7-3.7q0.5-0.4 1-0.4t1 0.4l11.9 11.9 11.9-11.9q0.4-0.4 1-0.4t1 0.4l3.7 3.7q0.4 0.4 0.4 1t-0.4 1z" data-reactid="68"></path></g></svg></li><li class="sc-htoDjs ksppJU" id="list-Using Optic" data-reactid="69"><ol class="sc-bZQynM bwvJwI" data-reactid="70"><li class="sc-dnqmqq crpbEG" data-reactid="71"><a href="/get-started" data-reactid="72"><h6 class="sc-gzVnrw dFgvPz" data-reactid="73">Get Started</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="74"><a href="/workflow" data-reactid="75"><h6 class="sc-gzVnrw dFgvPz" data-reactid="76">Workflow</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="77"><a href="/properties" data-reactid="78"><h6 class="sc-gzVnrw dFgvPz" data-reactid="79">Properties</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="80"><a href="/search" data-reactid="81"><h6 class="sc-gzVnrw dFgvPz" data-reactid="82">Search</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="83"><a href="/transform" data-reactid="84"><h6 class="sc-gzVnrw dFgvPz" data-reactid="85">Transform</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="86"><a href="/sync" data-reactid="87"><h6 class="sc-gzVnrw dFgvPz" data-reactid="88">Sync</h6></a></li></ol></li><li class="sc-htoDjs ksppJU" id="Using Optic" data-reactid="89"></li></ol><ol class="sc-EHOje gWZUse" data-reactid="90"><li class="head sc-htoDjs ksppJU" id="head-Extending Optic" data-reactid="91"><h5 class="sc-iwsKbI cCwNth" data-reactid="92">Extending Optic</h5><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" class="chevron chevron-open" id="chevron-Extending Optic" style="vertical-align:middle;" data-reactid="93"><g data-reactid="94"><path d="m37.6 18l-16.6 16.6q-0.4 0.4-1 0.4t-1-0.4l-16.6-16.6q-0.4-0.4-0.4-1t0.4-1l3.7-3.7q0.5-0.4 1-0.4t1 0.4l11.9 11.9 11.9-11.9q0.4-0.4 1-0.4t1 0.4l3.7 3.7q0.4 0.4 0.4 1t-0.4 1z" data-reactid="95"></path></g></svg></li><li class="sc-htoDjs ksppJU" id="list-Extending Optic" data-reactid="96"><ol class="sc-bZQynM bwvJwI" data-reactid="97"><li class="sc-dnqmqq crpbEG" data-reactid="98"><a href="/extending-optic" data-reactid="99"><h6 class="sc-gzVnrw dFgvPz" data-reactid="100">Extending Optic</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="101"><a href="/writing-skills" data-reactid="102"><h6 class="sc-gzVnrw dFgvPz" data-reactid="103">Writing Skills</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="104"><a href="/knowledge-packages" data-reactid="105"><h6 class="sc-gzVnrw dFgvPz" data-reactid="106">Knowledge Packages</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="107"><a class="active-toc-link" href="/writing-lenses" data-reactid="108"><h6 class="sc-gzVnrw dFgvPz" data-reactid="109">Writing Lenses</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="110"><a href="/defining-transformations" data-reactid="111"><h6 class="sc-gzVnrw dFgvPz" data-reactid="112">Defining Transformations</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="113"><a href="/defining-schemas" data-reactid="114"><h6 class="sc-gzVnrw dFgvPz" data-reactid="115">Defining Schemas</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="116"><a href="/publishing" data-reactid="117"><h6 class="sc-gzVnrw dFgvPz" data-reactid="118">Publishing</h6></a></li><li class="sc-dnqmqq crpbEG" data-reactid="119"><a href="/adding-optic-support-for-new-id-es" data-reactid="120"><h6 class="sc-gzVnrw dFgvPz" data-reactid="121">Adding Optic Support for new IDEs</h6></a></li></ol></li><li class="sc-htoDjs ksppJU" id="Extending Optic" data-reactid="122"></li></ol></div></div></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-359cc766432004f4099f.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","112254247690605":"component---src-templates-lesson-jsx-2f3c64e1a2e18dac8355.js","213130420965792":"component---src-templates-post-jsx-8d08266cbbcab5baa9ba.js","129745722219136":"component---src-templates-category-jsx-921906bf97e267672e56.js","186063380969677":"component---src-pages-blog-jsx-7751dd4e635acf0f8292.js","155467094651736":"component---src-pages-download-jsx-b0840a9f85692dc6785f.js","213534597649335":"component---src-pages-index-jsx-e9347c3edea237aa8d90.js","183896347523440":"component---src-pages-teams-jsx-9f58abc2dc28efb0560f.js","60335399758886":"path----6611940bd40871b680a6.js","210333531512890":"path---offline-plugin-app-shell-fallback-586c7e095e534a3909ec.js","254572558124955":"path---search-b06bd0919d9b45830bf8.js","9483242753610":"path---sync-cfaa34ff6b3f299f34c7.js","93920186370419":"path---transform-e82074fef6dadb5a8325.js","122740011636247":"path---workflow-9ca92a9c5ee0116953a7.js","5067510114144":"path---another-code-generator-7208fd5c026e849dda3e.js","126155764451284":"path---generate-request-js-calls-for-every-route-in-an-express-backend-df9f017b36130bbbdb12.js","154058176750488":"path---generate-express-crud-routes-from-a-mongoose-model-218449bbf697c416358f.js","67320663421284":"path---next-project-fb315a6de2019960ae2e.js","35766345265364":"path---advanced-transformations-9d70000a97c2274a5b02.js","123638010933521":"path---starting-the-public-beta-30c915890bee1c15ced2.js","68591922329505":"path---opm-live-6a97f38bf0a63589e4d0.js","120307268072438":"path---optic-markdown-cli-50eacac667f6b7a3a33a.js","240618554025460":"path---starting-sync-274c9018dab803ff7f84.js","275137226300397":"path---finished-sync-bda2afb3535dc988d5b0.js","248845841866675":"path---1-0-launched-5a44b7d743a413113f3a.js","193314218984229":"path---optic-installer-4cd045c4494d42300dab.js","224695450585135":"path---better-transformations-f4b4962e06cceb17a6c4.js","249087818611040":"path---adding-optic-support-for-new-id-es-887ad857058fd52a04b4.js","147732295542382":"path---extending-optic-876bb16bbeb55023de65.js","152246926155888":"path---writing-lenses-ba7d076594a4f7fd59fd.js","66550270839619":"path---defining-transformations-22b5039071751e6cd5ff.js","102424970946651":"path---knowledge-packages-2ad38eb14691f5d9530f.js","219350273333159":"path---defining-schemas-34a3483feb9779fb5b32.js","258516096045894":"path---publishing-7b2e45ff13bb165e21fd.js","196417120564767":"path---properties-d1a9df059e6ee4e41dde.js","36306115822328":"path---what-is-optic-fe0c3c9ed0ff3f6d4420.js","5531265311718":"path---technical-overview-b008e7d3f35906504c96.js","6980632175551":"path---writing-skills-4a23f109f7b60c10beb2.js","250495189865393":"path---first-release-open-source-beta-plans-d1635213bb99a993ace7.js","184266637291594":"path---opm-auto-updating-d10a399f24bdd29bb102.js","247112542583941":"path---get-started-a08ff7bdeda460192740.js","86242794778721":"path---categories-tech-48f51d3872ef7cc129b2.js","49683490770531":"path---blog-2142c81690eaa043316a.js","194151663809297":"path---download-586c7e095e534a3909ec.js","142629428675168":"path---index-2142c81690eaa043316a.js","64831998229159":"path---teams-586c7e095e534a3909ec.js","79611799117203":"component---src-layouts-index-jsx-a1c333e351ee21b88be0.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-112777347-1', 'auto');
      }
      </script><script>
          window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
      </script><script>/*<![CDATA[*/["/commons-15a4f65ef87ed37368ed.js","/app-359cc766432004f4099f.js","/path---writing-lenses-ba7d076594a4f7fd59fd.js","/component---src-templates-lesson-jsx-2f3c64e1a2e18dac8355.js","/component---src-layouts-index-jsx-a1c333e351ee21b88be0.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script><script>
              window.intercomSettings = {
               app_id: "xx7buah0"
              };
        </script><script>
            (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/xx7buah0';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
        </script></body></html>
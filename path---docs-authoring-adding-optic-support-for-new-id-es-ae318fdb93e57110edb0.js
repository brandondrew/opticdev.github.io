webpackJsonp([0xc90b8fddd70],{458:function(e,n){e.exports={data:{postBySlug:{html:'<h1 id="adding-optic-support-for-new-ides"><a href="#adding-optic-support-for-new-ides" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding Optic Support for new IDEs</h1>\n<p>Here is the spec for building Optic compatible text editor plugins. Existing plugins for your reference can be found on our <a href="https://github.com/opticdev">github</a>.</p>\n<h2 id="tldr"><a href="#tldr" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>tl;dr</h2>\n<ol>\n<li>Open a websocket connection</li>\n<li>Listen for 1 event</li>\n<li>Send 2 events from onChange callbacks.</li>\n<li>Publish Your Work, Become an Optic Contributer</li>\n<li>Swag Arrives in Mail</li>\n</ol>\n<h2 id="contributing-a-plugin"><a href="#contributing-a-plugin" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributing a Plugin</h2>\n<p>Any individual or team is invited to contribute an editor plugin to Optic\'s ecosystem. Optic\'s team will provide support during the development process and can be available to help anytime. If you want your plugin to become the official one listed on our website email Aidan (aidan@useoptic.com). A preference will be given to teams that intend to maintain their plugin. Plugins will be evaluated and tested against this spec before being listed.</p>\n<p>Individuals will be listed prominently as Optic contributors and their organizations (optionally) as sponsors. Swag will be mailed :)</p>\n<h2 id="overview"><a href="#overview" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>\n<p>Optic Editor plugins forward the current state of an IDE to Optic\'s local server <code class="language-text">localhost:30333</code> over a websocket connection. The state includes cursor position, highlighted region and any changes made in memory. Optic uses this information to establish the user\'s context and query the appropriate resources. The results of this processing are not handled by the editor plugins and are instead forwarded to the Optic GUI.</p>\n<p><img src="https://github.com/opticdev/docs/raw/master/images/system-overview.svg?sanitize=true" alt="alt text"></p>\n<h2 id="spec"><a href="#spec" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spec</h2>\n<p><strong>Terms:</strong></p>\n<ul>\n<li>Server - the local Optic server</li>\n<li>Editor - the target text editor or IDE you are building for.</li>\n<li>Plugin - your plugin for Editor</li>\n</ul>\n<h2 id="connecting-to-optic"><a href="#connecting-to-optic" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connecting to Optic</h2>\n<p>Users may start Optic after the editor, at the same time as the editor or even hours before. For this reason we can\'t assume that the server will even be running when our plugin initializes. Your plugin should connect to the server if it is active or continue trying to connect at a regular interval of no more than 10 seconds. These pings are pretty inexpensive especially when spread out over 10 seconds.</p>\n<p>Each editor should connect to Optic with its own distinct path: <code class="language-text">localhost:30333/socket/editor/:editorName</code>. Editor name should be lowercase and whitespace-free. ie Atom -> atom, Visual Studio -> visualstudio</p>\n<p>Test Cases:</p>\n<blockquote>\n<ol>\n<li>Editor Started. Wait 10 seconds. Start Optic. Within 10 seconds editor should connect to Optic.</li>\n<li>Editor is connected to Optic. Optic is turned off. Wait 10 seconds. Start Optic. Within 10 seconds editor should connect to Optic.</li>\n</ol>\n</blockquote>\n<h2 id="sending--receiving-events"><a href="#sending--receiving-events" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sending &#x26; Receiving Events</h2>\n<p>If your editor supports a node runtime for plugins, you\'re in luck! Optic has released the <a href="https://github.com/opticdev/optic-editor-sdk/blob/master/src/EditorConnection.js">optic-editor-sdk</a>. The Editor SDK automatically manages creating your socket connection, sending &#x26; receiving events and reconnecting if the connection is lost. It\'ll cover everything but the editor specific events and logic.</p>\n<p>If you aren\'t using a node environment you\'ll have to implement the protocols covered below manually. Don\'t be deterred, it\'s still pretty simple.</p>\n<h2 id="monitoring"><a href="#monitoring" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Monitoring</h2>\n<p>Plugins should monitor for two kinds of editor events. Each editor has a different name for these events so we\'ll define them here in the abstract.</p>\n<ol>\n<li>\n<p><strong>cursor position moved</strong> - Anytime a user moves their cursor (either by clicking, arrow keys or other shortcut). This also includes selecting a region of text with the mouse.</p>\n</li>\n<li>\n<p><strong>text content changed</strong> - Anytime a change is made by using the editor. Some editors are constantly checking the disk for external changes from tools like Git, others don\'t notice these kinds of changes unless the user explicitly reloads the file. We want whatever the editor is displaying to be what Optic is reading (otherwise there\'s a mismatch that\'ll confuse the user). Follow the convention of the editor with your plugin. Most of the time this won\'t be an issue if you listen for the editor\'s updated event.</p>\n</li>\n</ol>\n<p>After each of these events you should send the following JSON message through the websocket:</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"event"</span><span class="token operator">:</span> <span class="token string">"context"</span><span class="token punctuation">,</span> <span class="token property">"file"</span><span class="token operator">:</span> <span class="token string">"full/path/to/file"</span><span class="token punctuation">,</span> <span class="token property">"start"</span><span class="token operator">:</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token property">"end"</span><span class="token operator">:</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"entire contents of file"</span><span class="token punctuation">}</span></code></pre>\n      </div>\n<p>A note on start/end: If your editor stores ranges as column/row you will have to convert them to absolute indices. Optic expects the first character in a file to be 0, the second 1, etc.</p>\n<p>Plugins should assume that Optic is stateless and send the full event every time. We tinkered around with sending a buffer of content changes, but found it was more trouble and much more error prone than it was worth. All the IO is local so optimizing for smaller payloads isn\'t as important as it would be in a non-local networked environment.</p>\n<p>Test Cases:</p>\n<blockquote>\n<ol>\n<li>Editor is connected to server. Click somewhere in a file, Optic event sent with the new range to server</li>\n<li>Editor is connected to server. Use arrow keys to navigate around a file, Optic event sent with the new range to server</li>\n<li>Editor is connected to server. Select text by dragging a range, Optic event sent with the new range to server</li>\n<li>Editor is connected to Optic. Text is [added, deleted], Optic event sent with new range and content to server</li>\n</ol>\n</blockquote>\n<h2 id="capturing-search"><a href="#capturing-search" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Capturing Search</h2>\n<p>One of the cool features of Optic is the ability to search just by typing in your IDE. Today we use \'///\' to let Optic know a search is being made. It\'s on our roadmap to stop using leading characters to indicate a search, but right now we don\'t have a good alternative implemented.</p>\n<p>Editor plugins are therefore responsible for figuring out if they should send a <code class="language-text">context</code> event or a <code class="language-text">search</code> event. You should add your logic for capturing searches to your <strong>text content changed</strong> callback. If the user is typing a search opt to send a search event to Optic and in all other cases send a context event.</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"event"</span><span class="token operator">:</span> <span class="token string">"search"</span><span class="token punctuation">,</span> <span class="token property">"file"</span><span class="token operator">:</span> <span class="token string">"full/path/to/file"</span><span class="token punctuation">,</span> <span class="token property">"start"</span><span class="token operator">:</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token property">"end"</span><span class="token operator">:</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"entire contents of file"</span><span class="token punctuation">,</span> <span class="token property">"query"</span><span class="token operator">:</span> <span class="token string">"User\'s query"</span><span class="token punctuation">}</span></code></pre>\n      </div>\n<h3 id="editor-sdk"><a href="#editor-sdk" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Editor SDK</h3>\n<p>If you\'re in a node environment the Editor SDK ships with logic for this. Just pass in the content of the current line and start/end positions of the cursor within that line.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> checkForSearch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'optic-editor-sdk\'</span>\n<span class="token function">checkForSearch</span><span class="token punctuation">(</span>currentLineContent<span class="token punctuation">,</span> startInLine<span class="token punctuation">,</span> endInLine<span class="token punctuation">)</span>\n<span class="token comment">///query                                                       {isMatch: true, query: query}</span>\n<span class="token comment">/// hello                                                      {isMatch: true, query: hello}</span>\n<span class="token comment">//normal comment                                               {isMatch: false}</span>\n<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>                                                   <span class="token punctuation">{</span>isMatch<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span></code></pre>\n      </div>\n<h3 id="other-implementations"><a href="#other-implementations" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Implementations</h3>\n<p>If you aren\'t in a node environment you\'ll have to implement the search check yourself. Here\'s our regex &#x26; node code as a reference:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> searchRegex <span class="token operator">=</span> <span class="token regex">/^[\\s]*\\/\\/\\/[\\s]*(.+)/</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">checkForSearch</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n\t<span class="token keyword">const</span> match <span class="token operator">=</span> searchRegex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>\n\n\t<span class="token keyword">const</span> isSearch <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">===</span> end<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> match <span class="token operator">!==</span> <span class="token keyword">null</span>\n\t<span class="token keyword">return</span> <span class="token punctuation">{</span>\n\t\tisSearch<span class="token punctuation">,</span>\n\t\tquery<span class="token punctuation">:</span> <span class="token punctuation">(</span>match <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> undefined\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Test Cases:</p>\n<blockquote>\n<ol>\n<li>Editor is connected to server. Type \'///query\', Optic search event sent, no context event sent.</li>\n<li>Editor is connected to server. Type \'//query\', Optic context event sent, no search event event sent.</li>\n<li>Editor is connected to server. Write normal code, Optic context event sent, no search event event sent.</li>\n</ol>\n</blockquote>\n<h2 id="file-staging-events"><a href="#file-staging-events" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>File Staging Events</h2>\n<p>Many editors will not read changes to disk made by outside processes. Early versions of Optic would save their updates to the disk but the editors wouldn\'t display the updates. This necessitated an event being sent from the server to the plugin that would stage new contents in the editors. The file updates are also saved to disk by the server.</p>\n<p>Your plugin should listen for an event called <code class="language-text">files-updated</code>. Within that payload will be an object called <code class="language-text">updates</code> which has  the absolute path of each file that needs updating as its keys and the new contents as the values. You should iterate over all of the files and set their content in the editor to the new value. Also tell the editor to open any files that were changed but are not currently open.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>\n\t<span class="token string">"event"</span><span class="token punctuation">:</span> <span class="token string">"files-updated"</span><span class="token punctuation">,</span>\n\t<span class="token string">"updates"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\t\t<span class="token string">"/path/to/file1"</span><span class="token punctuation">:</span> <span class="token string">"new contents as string"</span><span class="token punctuation">,</span>\n    <span class="token string">"/path/to/file2"</span><span class="token punctuation">:</span> <span class="token string">"new contents as string"</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p><strong>Some gotchas we\'ve run into</strong>:</p>\n<ul>\n<li>Some editors with complex tabbing systems will require you to set the text of EVERY tab that is open for the file path.</li>\n<li>Some editors will not like having text updated in this manner if there are pending/unsaved changed. Make sure you apply any <code class="language-text">force</code> flags that are provided.</li>\n<li>Don\'t refresh the tabs instead of setting their content. Optic saves everything asynchronously and while it only takes a few milliseconds to hit the disk we have observed some race conditions when we tried that approach.</li>\n</ul>\n<p>Test Cases:</p>\n<blockquote>\n<ol>\n<li>Optic is connected to server. Receives an update event with 3 file changes. All tabs update their contents</li>\n<li>Optic is connected to server. Receives an update event with 1 file (that is closed). That file opens in a new tab with updated content</li>\n</ol>\n</blockquote>\n<h1 id="testing"><a href="#testing" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing</h1>\n<p>Testing plugins is easiest if you capture the server output. All connections from editors will get logged as will all received and sent events. You can capture the console output by opening the Optic App from the command line.</p>\n<p>Edit the <code class="language-text">launchServer.sh</code> file in <code class="language-text">/Applications/Optic.app/Contents/Resources/launchServer.sh</code> to enable logging. Remove <code class="language-text">-Dprod=true</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>\n\n<span class="token function">chmod</span> +x <span class="token variable">$1</span>\n<span class="token variable">$1</span> -jar -Dopticmdbinary<span class="token operator">=</span><span class="token string">"<span class="token variable">$3</span>"</span> <span class="token variable">$2</span></code></pre>\n      </div>\n<p>Run Optic.app from a terminal session:</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">aidancunniffe$ /Applications/Optic.app/Contents/MacOS/Optic</code></pre>\n      </div>\n<p>You should see data like this come through live. Note that many of the events you\'ll see pop up are from are being sent to/from the Optic GUI and are not going to be routed to your plugin.</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text">STARTING SERVER\nKilled last server pid:14431\nServer online at http://localhost:30333/\nPress RETURN to stop...\n\nSTARTING CHIP NOW\nREADY\nFinished navigating to url Optional(file:///Applications/Optic.app/Contents/Resources/embedded/webapp/dist/index.html#/)\noptic-agent agent connected\n\natom editor connected\n\nRECEIVED {&quot;event&quot;:&quot;context&quot;,&quot;file&quot;:&quot;/Users/aidancunniffe/Desktop/demo/demo_project/models.js&quot;,&quot;start&quot;:253,&quot;end&quot;:253,&quot;contents&quot;:&quot;const mongoose = require(&#39;mongoose&#39;)\\n\\nconst model = mongoose.model(&#39;Hello&#39;, new mongoose.Schema({\\n    &#39;isAdmin&#39;: &#39;boolean&#39;,\\n    &#39;firstName&#39;: &#39;string&#39;,\\n    &#39;test&#39;: &#39;string&#39;,\\n    &#39;lastName&#39;: &#39;string&#39;,\\n}))\\n\\napp.post(&#39;/hello&#39;, function (req, res) {\\n  new Model({ isAdmin: req.body.isAdmin,\\n  firstName: req.body.firstName,\\n  test: req.body.test,\\n  lastName: req.body.lastName }).save((err, item) =&gt; {\\n    if (!err) {\\n        res.send(200, item)\\n    } else {\\n        res.send(400, err)\\n    }\\n  })\\n})\\n\\napp.post(&#39;/hello&#39;, function (req, res) {\\n  new Model({ isAdmin: req.body.isAdmin,\\n  firstName: req.body.firstName,\\n  lastName: req.body.lastName }).save((err, item) =&gt; {\\n    if (!err) {\\n        res.send(200, item)\\n    } else {\\n        res.send(400, err)\\n    }\\n  })\\n})\\n&quot;}</code></pre>\n      </div>',timeToRead:8,excerpt:"Adding Optic Support for new IDEs Here is the spec for building Optic compatible text editor plugins. Existing plugins for your referenceâ€¦",frontmatter:{title:"Adding Optic Support for new IDEs",cover:null,date:null,category:null,tags:null}},tableOfContents:{chapters:[{title:"About Optic",entries:[{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/about/why-optic.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/about/why-optic"},frontmatter:{title:"Why Optic?",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/about/another-code-generator.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/about/another-code-generator"},frontmatter:{title:"Another Code Generator?",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/about/technical-overview.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/about/technical-overview"},frontmatter:{title:"Technical Overview",type:null}}}}]},{title:"Teaching Optic",entries:[{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/skills-overview.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/what-are-optic-skills"},frontmatter:{title:"What are Optic Skills?",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/creating-generators.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/generators"},frontmatter:{title:"Generators",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/creating-relationships.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/relationships"},frontmatter:{title:"Relationships",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/creating-abstractions.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/abstractions"},frontmatter:{title:"Abstractions",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/publishing.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/publishing"},frontmatter:{title:"Publishing",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/authoring/teaching-optic.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/authoring/extending-optic"},frontmatter:{title:"Extending Optic",type:null}}}}]},{title:"Using Optic",entries:[{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/get-started.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/get-started"},frontmatter:{title:"Get Started",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/workflow.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/workflow"},frontmatter:{title:"Workflow",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/properties.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/properties"},frontmatter:{title:"Properties",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/search.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/search"},frontmatter:{title:"Search",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/transform.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/transforming-code-with-relationships"},frontmatter:{title:"Transforming Code with Relationships",type:null}}}},{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/lessons/using/sync.md absPath of file",childMarkdownRemark:{fields:{slug:"/docs/using/sync"},frontmatter:{title:"Sync",type:null}}}}]}]},tableOfContentsSkills:{chapters:[{title:"Generate RequestJS calls for every route in an Express backend",entries:[{entry:{id:"/Users/aidancunniffe/Desktop/optic-homepage/content/skills/generate-requestjs.md absPath of file",childMarkdownRemark:{headings:[{value:"Generate RequestJS calls for every route in an Express backend",depth:1},{value:"Requirements",depth:2},{value:"Including Skills",depth:2},{value:"Our First Transform",depth:2},{value:"Generating Networking Calls from your Client Code",depth:2},{value:"Name and Source Annotations",depth:3},{value:"Syncing API & Networking Code",depth:2},{value:"Going Further",depth:2}],fields:{slug:"/skills/generate-request-js-calls-for-every-route-in-an-express-backend"},frontmatter:{title:"Generate RequestJS calls for every route in an Express backend",type:"skill"}}}}]}]}},pathContext:{slug:"/docs/authoring/adding-optic-support-for-new-id-es",type:null}}}});
//# sourceMappingURL=path---docs-authoring-adding-optic-support-for-new-id-es-ae318fdb93e57110edb0.js.map